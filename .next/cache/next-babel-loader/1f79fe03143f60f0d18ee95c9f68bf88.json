{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/kaybennett/.Trash/nextjs-blog/nextjs-blog/pages/index.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport PropTypes from \"prop-types\";\nimport { get } from \"lodash/object\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport withAuthUser from \"../utils/pageWrappers/withAuthUser\";\nimport withAuthUserInfo from \"../utils/pageWrappers/withAuthUserInfo\";\nimport logout from \"../utils/auth/logout\";\n\nvar Profile = function Profile(props) {\n  var AuthUserInfo = props.AuthUserInfo,\n      data = props.data;\n  var AuthUser = get(AuthUserInfo, \"AuthUser\", null);\n  var favoriteFood = data.favoriteFood;\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 5\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }\n  }, \"Hi there!\"), !AuthUser ? __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 9\n    }\n  }, \"You are not signed in.\", \" \", __jsx(Link, {\n    href: \"/auth\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, \"Sign in\"))) : __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 9\n    }\n  }, __jsx(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 11\n    }\n  }, \"You're signed in. Email: \", AuthUser.email), __jsx(\"p\", {\n    style: {\n      display: \"inlinelock\",\n      color: \"blue\",\n      textDecoration: \"underline\",\n      cursor: \"pointer\"\n    },\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return logout();\n\n            case 3:\n              Router.push(\"/auth\");\n              _context.next = 9;\n              break;\n\n            case 6:\n              _context.prev = 6;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 6]]);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }, \"Log out\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/example\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Another example page\"))), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, \"Your favorite food is \", favoriteFood, \".\")));\n}; // Just an example.\n\n\n_c = Profile;\n\nvar mockFetchData = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(userId) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", {\n              user: _objectSpread({}, userId && {\n                id: userId\n              }),\n              favoriteFood: \"pizza\"\n            });\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function mockFetchData(_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nProfile.getInitialProps = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(ctx) {\n    var AuthUserInfo, AuthUser, data;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            // Get the AuthUserInfo object. This is set in `withAuthUser.js`.\n            // The AuthUserInfo object is available on both the server and client.\n            AuthUserInfo = get(ctx, \"myCustomData.AuthUserInfo\", null);\n            AuthUser = get(AuthUserInfo, \"AuthUser\", null); // You can also get the token (e.g., to authorize a request when fetching data)\n            // const AuthUserToken = get(AuthUserInfo, 'token', null)\n            // You can fetch data here.\n\n            _context3.next = 4;\n            return mockFetchData(get(AuthUser, \"id\"));\n\n          case 4:\n            data = _context3.sent;\n            return _context3.abrupt(\"return\", {\n              data: data\n            });\n\n          case 6:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n\n  return function (_x2) {\n    return _ref3.apply(this, arguments);\n  };\n}();\n\nProfile.displayName = \"Profile\";\nProfile.propTypes = {\n  AuthUserInfo: PropTypes.shape({\n    AuthUser: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      emailVerified: PropTypes.bool.isRequired\n    }),\n    token: PropTypes.string\n  }),\n  data: PropTypes.shape({\n    user: PropTypes.shape({\n      id: PropTypes.string\n    }).isRequired,\n    favoriteFood: PropTypes.string.isRequired\n  }).isRequired\n};\nProfile.defaultProps = {\n  AuthUserInfo: null\n}; // Use `withAuthUser` to get the authed user server-side, which\n// disables static rendering.\n// Use `withAuthUserInfo` to include the authed user as a prop\n// to your component.\n\nexport default _c3 = withAuthUser(_c2 = withAuthUserInfo(Profile));\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Profile\");\n$RefreshReg$(_c2, \"%default%$withAuthUser\");\n$RefreshReg$(_c3, \"%default%\");","map":{"version":3,"sources":["/Users/kaybennett/.Trash/nextjs-blog/nextjs-blog/pages/index.js"],"names":["PropTypes","get","Link","Router","withAuthUser","withAuthUserInfo","logout","Profile","props","AuthUserInfo","data","AuthUser","favoriteFood","email","display","color","textDecoration","cursor","push","console","error","mockFetchData","userId","user","id","getInitialProps","ctx","displayName","propTypes","shape","string","isRequired","emailVerified","bool","token","defaultProps"],"mappings":"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","sourcesContent":["import PropTypes from \"prop-types\";\nimport { get } from \"lodash/object\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport withAuthUser from \"../utils/pageWrappers/withAuthUser\";\nimport withAuthUserInfo from \"../utils/pageWrappers/withAuthUserInfo\";\nimport logout from \"../utils/auth/logout\";\n\nconst Profile = (props) => {\n  const { AuthUserInfo, data } = props;\n  const AuthUser = get(AuthUserInfo, \"AuthUser\", null);\n  const { favoriteFood } = data;\n\n  return (\n    <div>\n      <p>Hi there!</p>\n      {!AuthUser ? (\n        <p>\n          You are not signed in.{\" \"}\n          <Link href={\"/auth\"}>\n            <a>Sign in</a>\n          </Link>\n        </p>\n      ) : (\n        <div>\n          <p>You're signed in. Email: {AuthUser.email}</p>\n          <p\n            style={{\n              display: \"inlinelock\",\n              color: \"blue\",\n              textDecoration: \"underline\",\n              cursor: \"pointer\",\n            }}\n            onClick={async () => {\n              try {\n                await logout();\n                Router.push(\"/auth\");\n              } catch (e) {\n                console.error(e);\n              }\n            }}\n          >\n            Log out\n          </p>\n        </div>\n      )}\n      <div>\n        <Link href={\"/example\"}>\n          <a>Another example page</a>\n        </Link>\n      </div>\n      <div>\n        <div>Your favorite food is {favoriteFood}.</div>\n      </div>\n    </div>\n  );\n};\n\n// Just an example.\nconst mockFetchData = async (userId) => ({\n  user: {\n    ...(userId && {\n      id: userId,\n    }),\n  },\n  favoriteFood: \"pizza\",\n});\n\nProfile.getInitialProps = async (ctx) => {\n  // Get the AuthUserInfo object. This is set in `withAuthUser.js`.\n  // The AuthUserInfo object is available on both the server and client.\n  const AuthUserInfo = get(ctx, \"myCustomData.AuthUserInfo\", null);\n  const AuthUser = get(AuthUserInfo, \"AuthUser\", null);\n\n  // You can also get the token (e.g., to authorize a request when fetching data)\n  // const AuthUserToken = get(AuthUserInfo, 'token', null)\n\n  // You can fetch data here.\n  const data = await mockFetchData(get(AuthUser, \"id\"));\n\n  return {\n    data,\n  };\n};\n\nProfile.displayName = \"Profile\";\n\nProfile.propTypes = {\n  AuthUserInfo: PropTypes.shape({\n    AuthUser: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      email: PropTypes.string.isRequired,\n      emailVerified: PropTypes.bool.isRequired,\n    }),\n    token: PropTypes.string,\n  }),\n  data: PropTypes.shape({\n    user: PropTypes.shape({\n      id: PropTypes.string,\n    }).isRequired,\n    favoriteFood: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nProfile.defaultProps = {\n  AuthUserInfo: null,\n};\n\n// Use `withAuthUser` to get the authed user server-side, which\n// disables static rendering.\n// Use `withAuthUserInfo` to include the authed user as a prop\n// to your component.\nexport default withAuthUser(withAuthUserInfo(Profile));\n"]},"metadata":{},"sourceType":"module"}