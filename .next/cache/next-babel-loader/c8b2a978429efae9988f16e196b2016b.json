{"ast":null,"code":"import { useEffect, useState } from \"react\";\nimport { useRouter } from \"next/router\";\nimport cookies from \"js-cookie\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport initFirebase from \"../auth/initFirebase\";\ninitFirebase();\n\nconst useUser = () => {\n  const {\n    0: user,\n    1: setUser\n  } = useState();\n  const router = useRouter();\n\n  const logout = async () => {\n    return firebase.auth().signOut().then(() => {\n      // Sign-out successful.\n      cookies.remove(\"auth\");\n      router.push(\"/auth\");\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n\n  useEffect(() => {\n    const cookie = cookies.get(\"auth\");\n\n    if (!cookie) {\n      router.push(\"/\");\n      return;\n    }\n\n    setUser(JSON.parse(cookie)); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return {\n    user,\n    logout\n  };\n};\n\nexport { useUser };","map":null,"metadata":{},"sourceType":"module"}