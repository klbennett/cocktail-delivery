{"ast":null,"code":"// From:\n// https://github.com/vercel/next.js/blob/canary/examples/with-firebase-authentication/pages/index.js\nexport var setSession = function setSession(user) {\n  // Log in.\n  if (user) {\n    return user.getIdToken().then(function (token) {\n      return fetch(\"/api/login\", {\n        method: \"POST\",\n        // eslint-disable-next-line no-undef\n        headers: new Headers({\n          \"Content-Type\": \"application/json\"\n        }),\n        credentials: \"same-origin\",\n        body: JSON.stringify({\n          token: token\n        })\n      });\n    });\n  } // Log out.\n\n\n  return fetch(\"/api/logout\", {\n    method: \"POST\",\n    credentials: \"same-origin\"\n  });\n};","map":{"version":3,"sources":["/Users/kaybennett/.Trash/nextjs-blog/nextjs-blog/utils/auth/firebaseSessionHandler.js"],"names":["setSession","user","getIdToken","then","token","fetch","method","headers","Headers","credentials","body","JSON","stringify"],"mappings":"AAAA;AACA;AAEA,OAAO,IAAMA,UAAU,GAAG,SAAbA,UAAa,CAACC,IAAD,EAAU;AAClC;AACA,MAAIA,IAAJ,EAAU;AACR,WAAOA,IAAI,CAACC,UAAL,GAAkBC,IAAlB,CAAuB,UAACC,KAAD,EAAW;AACvC,aAAOC,KAAK,CAAC,YAAD,EAAe;AACzBC,QAAAA,MAAM,EAAE,MADiB;AAEzB;AACAC,QAAAA,OAAO,EAAE,IAAIC,OAAJ,CAAY;AAAE,0BAAgB;AAAlB,SAAZ,CAHgB;AAIzBC,QAAAA,WAAW,EAAE,aAJY;AAKzBC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,UAAAA,KAAK,EAALA;AAAF,SAAf;AALmB,OAAf,CAAZ;AAOD,KARM,CAAP;AASD,GAZiC,CAclC;;;AACA,SAAOC,KAAK,CAAC,aAAD,EAAgB;AAC1BC,IAAAA,MAAM,EAAE,MADkB;AAE1BG,IAAAA,WAAW,EAAE;AAFa,GAAhB,CAAZ;AAID,CAnBM","sourcesContent":["// From:\n// https://github.com/vercel/next.js/blob/canary/examples/with-firebase-authentication/pages/index.js\n\nexport const setSession = (user) => {\n  // Log in.\n  if (user) {\n    return user.getIdToken().then((token) => {\n      return fetch(\"/api/login\", {\n        method: \"POST\",\n        // eslint-disable-next-line no-undef\n        headers: new Headers({ \"Content-Type\": \"application/json\" }),\n        credentials: \"same-origin\",\n        body: JSON.stringify({ token }),\n      });\n    });\n  }\n\n  // Log out.\n  return fetch(\"/api/logout\", {\n    method: \"POST\",\n    credentials: \"same-origin\",\n  });\n};\n"]},"metadata":{},"sourceType":"module"}