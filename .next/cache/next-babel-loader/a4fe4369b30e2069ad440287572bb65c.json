{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Card from \"../components/Card\";\nimport { get } from \"lodash/object\";\nimport CocktailDetail from \"../components/CocktailDetail\";\nimport { addFavourite, deleteFavourite } from \"../lib/actions\";\n\nfunction CocktailsList(_ref) {\n  var data = _ref.data,\n      user = _ref.user,\n      favourites = _ref.favourites;\n  var drinks = data.drinks;\n  console.log(user);\n\n  var _useState = useState(drinks[0]),\n      selectedDrink = _useState[0],\n      setSelectedDrink = _useState[1];\n\n  function setDetailsVisible(id) {\n    var drink = drinks.find(function (drink) {\n      return drink.idDrink === id;\n    });\n    setSelectedDrink(drink);\n  }\n\n  function saveDrink() {\n    // drink is saved to collection in Firebase\n    addFavourite(selectedDrink);\n  }\n\n  function deleteDrink() {\n    // drink is deleted from collection in Firebase\n    deleteFavourite(selectedDrink);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    \"class\": \"row\"\n  }, __jsx(\"div\", {\n    \"class\": \"col s12 m8 l9\"\n  }, drinks.length > 0 && drinks.map(function (_ref2, idx) {\n    var idDrink = _ref2.idDrink,\n        strDrinkThumb = _ref2.strDrinkThumb,\n        strDrink = _ref2.strDrink,\n        strIBA = _ref2.strIBA,\n        strAlcoholic = _ref2.strAlcoholic;\n    return __jsx(Card, {\n      key: idDrink + idx,\n      id: idDrink,\n      strDrinkThumb: strDrinkThumb,\n      strDrink: strDrink,\n      strIBA: strIBA,\n      strAlcoholic: strAlcoholic,\n      selectDrink: function selectDrink(e) {\n        return setDetailsVisible(idDrink);\n      }\n    });\n  })), __jsx(\"div\", {\n    className: \"col s12 m4 l3 grey lighten-2 full-height\"\n  }, selectedDrink && __jsx(CocktailDetail, {\n    selectedDrink: selectedDrink,\n    saveDrink: saveDrink,\n    deleteDrink: deleteDrink,\n    user: user,\n    favourites: favourites\n  }))));\n}\n\nexport default CocktailsList;","map":null,"metadata":{},"sourceType":"module"}