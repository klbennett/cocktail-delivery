{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nimport StyledFirebaseAuth from \"react-firebaseui/StyledFirebaseAuth\";\nimport firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport cookie from \"js-cookie\";\nimport initFirebase from \"../utils/auth/initFirebase\"; // Init the Firebase app.\n\ninitFirebase();\nconst firebaseAuthConfig = {\n  signInFlow: \"popup\",\n  // Auth providers\n  // https://github.com/firebase/firebaseui-web#configure-oauth-providers\n  signInOptions: [{\n    provider: firebase.auth.EmailAuthProvider.PROVIDER_ID,\n    requireDisplayName: false\n  }],\n  signInSuccessUrl: \"/\",\n  credentialHelper: \"none\",\n  callbacks: {\n    signInSuccessWithAuthResult: async ({\n      user\n    }, redirectUrl) => {\n      // xa is the access token, which can be retrieved through\n      // firebase.auth().currentUser.getIdToken()\n      const {\n        uid,\n        email,\n        xa\n      } = user;\n      const userData = {\n        id: uid,\n        email,\n        token: xa\n      };\n      cookie.set(\"auth\", userData, {\n        expires: 1\n      });\n    }\n  }\n};\n\nconst FirebaseAuth = () => {\n  // Do not SSR FirebaseUI, because it is not supported.\n  // https://github.com/firebase/firebaseui-web/issues/213\n  const {\n    0: renderAuth,\n    1: setRenderAuth\n  } = useState(false);\n  useEffect(() => {\n    if (false) {\n      setRenderAuth(true);\n    }\n  }, []);\n  return __jsx(\"div\", null, renderAuth ? __jsx(StyledFirebaseAuth, {\n    uiConfig: firebaseAuthConfig,\n    firebaseAuth: firebase.auth()\n  }) : null);\n};\n\nexport default FirebaseAuth;","map":null,"metadata":{},"sourceType":"module"}