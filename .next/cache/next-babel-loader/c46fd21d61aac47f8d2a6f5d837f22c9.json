{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/Users/kaybennett/.Trash/nextjs-blog/nextjs-blog/utils/pageWrappers/withAuthUserInfo.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { get } from \"lodash/object\";\nimport { AuthUserInfoContext } from \"../auth/hooks\"; // Provides an AuthUserInfo prop to the composed component.\n\nexport default function withAuthUserInfo(ComposedComponent) {\n  var _this = this;\n\n  var WithAuthUserInfoComp = function WithAuthUserInfoComp(props) {\n    var AuthUserInfoFromSession = props.AuthUserInfo,\n        otherProps = _objectWithoutProperties(props, [\"AuthUserInfo\"]);\n\n    return __jsx(AuthUserInfoContext.Consumer, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 7\n      }\n    }, function (AuthUserInfo) {\n      return __jsx(ComposedComponent, _extends({}, otherProps, {\n        AuthUserInfo: AuthUserInfo || AuthUserInfoFromSession,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 11\n        }\n      }));\n    });\n  };\n\n  WithAuthUserInfoComp.getInitialProps = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n      var AuthUserInfo, composedInitialProps;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              AuthUserInfo = get(ctx, \"myCustomData.AuthUserInfo\", null); // Evaluate the composed component's getInitialProps().\n\n              composedInitialProps = {};\n\n              if (!ComposedComponent.getInitialProps) {\n                _context.next = 6;\n                break;\n              }\n\n              _context.next = 5;\n              return ComposedComponent.getInitialProps(ctx);\n\n            case 5:\n              composedInitialProps = _context.sent;\n\n            case 6:\n              return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, composedInitialProps), {}, {\n                AuthUserInfo: AuthUserInfo\n              }));\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  WithAuthUserInfoComp.displayName = \"WithAuthUserInfo(\".concat(ComposedComponent.displayName, \")\");\n  WithAuthUserInfoComp.propTypes = {\n    AuthUserInfo: PropTypes.shape({\n      AuthUser: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        email: PropTypes.string.isRequired,\n        emailVerified: PropTypes.bool.isRequired\n      }),\n      token: PropTypes.string\n    })\n  };\n  WithAuthUserInfoComp.defaultProps = {};\n  return WithAuthUserInfoComp;\n}","map":{"version":3,"sources":["/Users/kaybennett/.Trash/nextjs-blog/nextjs-blog/utils/pageWrappers/withAuthUserInfo.js"],"names":["React","PropTypes","get","AuthUserInfoContext","withAuthUserInfo","ComposedComponent","WithAuthUserInfoComp","props","AuthUserInfoFromSession","AuthUserInfo","otherProps","getInitialProps","ctx","composedInitialProps","displayName","propTypes","shape","AuthUser","id","string","isRequired","email","emailVerified","bool","token","defaultProps"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,GAAT,QAAoB,eAApB;AACA,SAASC,mBAAT,QAAoC,eAApC,C,CAEA;;AACA,eAAe,SAASC,gBAAT,CAA0BC,iBAA1B,EAA6C;AAAA;;AAC1D,MAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,KAAD,EAAW;AAAA,QAChBC,uBADgB,GAC2BD,KAD3B,CAC9BE,YAD8B;AAAA,QACYC,UADZ,4BAC2BH,KAD3B;;AAEtC,WACE,MAAC,mBAAD,CAAqB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,UAACE,YAAD;AAAA,aACC,MAAC,iBAAD,eACMC,UADN;AAEE,QAAA,YAAY,EAAED,YAAY,IAAID,uBAFhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADD;AAAA,KADH,CADF;AAUD,GAZD;;AAcAF,EAAAA,oBAAoB,CAACK,eAArB;AAAA,wEAAuC,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/BH,cAAAA,YAD+B,GAChBP,GAAG,CAACU,GAAD,EAAM,2BAAN,EAAmC,IAAnC,CADa,EAGrC;;AACIC,cAAAA,oBAJiC,GAIV,EAJU;;AAAA,mBAKjCR,iBAAiB,CAACM,eALe;AAAA;AAAA;AAAA;;AAAA;AAAA,qBAMNN,iBAAiB,CAACM,eAAlB,CAAkCC,GAAlC,CANM;;AAAA;AAMnCC,cAAAA,oBANmC;;AAAA;AAAA,+EAUhCA,oBAVgC;AAWnCJ,gBAAAA,YAAY,EAAZA;AAXmC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAvC;;AAAA;AAAA;AAAA;AAAA;;AAeAH,EAAAA,oBAAoB,CAACQ,WAArB,8BAAuDT,iBAAiB,CAACS,WAAzE;AAEAR,EAAAA,oBAAoB,CAACS,SAArB,GAAiC;AAC/BN,IAAAA,YAAY,EAAER,SAAS,CAACe,KAAV,CAAgB;AAC5BC,MAAAA,QAAQ,EAAEhB,SAAS,CAACe,KAAV,CAAgB;AACxBE,QAAAA,EAAE,EAAEjB,SAAS,CAACkB,MAAV,CAAiBC,UADG;AAExBC,QAAAA,KAAK,EAAEpB,SAAS,CAACkB,MAAV,CAAiBC,UAFA;AAGxBE,QAAAA,aAAa,EAAErB,SAAS,CAACsB,IAAV,CAAeH;AAHN,OAAhB,CADkB;AAM5BI,MAAAA,KAAK,EAAEvB,SAAS,CAACkB;AANW,KAAhB;AADiB,GAAjC;AAWAb,EAAAA,oBAAoB,CAACmB,YAArB,GAAoC,EAApC;AAEA,SAAOnB,oBAAP;AACD","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { get } from \"lodash/object\";\nimport { AuthUserInfoContext } from \"../auth/hooks\";\n\n// Provides an AuthUserInfo prop to the composed component.\nexport default function withAuthUserInfo(ComposedComponent) {\n  const WithAuthUserInfoComp = (props) => {\n    const { AuthUserInfo: AuthUserInfoFromSession, ...otherProps } = props;\n    return (\n      <AuthUserInfoContext.Consumer>\n        {(AuthUserInfo) => (\n          <ComposedComponent\n            {...otherProps}\n            AuthUserInfo={AuthUserInfo || AuthUserInfoFromSession}\n          />\n        )}\n      </AuthUserInfoContext.Consumer>\n    );\n  };\n\n  WithAuthUserInfoComp.getInitialProps = async (ctx) => {\n    const AuthUserInfo = get(ctx, \"myCustomData.AuthUserInfo\", null);\n\n    // Evaluate the composed component's getInitialProps().\n    let composedInitialProps = {};\n    if (ComposedComponent.getInitialProps) {\n      composedInitialProps = await ComposedComponent.getInitialProps(ctx);\n    }\n\n    return {\n      ...composedInitialProps,\n      AuthUserInfo,\n    };\n  };\n\n  WithAuthUserInfoComp.displayName = `WithAuthUserInfo(${ComposedComponent.displayName})`;\n\n  WithAuthUserInfoComp.propTypes = {\n    AuthUserInfo: PropTypes.shape({\n      AuthUser: PropTypes.shape({\n        id: PropTypes.string.isRequired,\n        email: PropTypes.string.isRequired,\n        emailVerified: PropTypes.bool.isRequired,\n      }),\n      token: PropTypes.string,\n    }),\n  };\n\n  WithAuthUserInfoComp.defaultProps = {};\n\n  return WithAuthUserInfoComp;\n}\n"]},"metadata":{},"sourceType":"module"}